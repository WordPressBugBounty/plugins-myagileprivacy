/*!
* MyAgilePrivacy (https://www.myagileprivacy.com/)
* plain js version
*/
var MAP_SYS={plugin_version:null,parse_config_version_number:null,internal_version:"2.0026",cookie_shield_version:null,technology:"plain",maplog:"[40m[97m[MyAgilePrivacy][0m ",map_initted:!1,map_document_load:!1,map_debug:!1,map_cookie_expire:180,map_skip_regexp:[/.*oxygen_iframe=true.*$/,/.*ct_builder=true.*$/],map_missing_cookie_shield:null,map_detectableKeys:null,map_detectedKeys:null,map_notify_title:!1,map_first_layer_branded:!1,enforce_youtube_privacy_v2:!1,in_iab_context:!1,dependencies:[],microsoft_cmode:null,clarity_cmode:null,clarity_cmp_id:"150",cmode_v2:null,cmode_v2_implementation_type:null,cmode_v2_forced_off_ga4_advanced:null,cmode_v2_js_on_error:null,starting_gconsent:[],current_gconsent:[],starting_mconsent:[],current_mconsent:[],starting_cconsent:[],current_cconsent:[],map_accept_all_button:null,map_reject_all_button:null,user_uuid:null,last_consent_modify_date:null,some_positive_consent_given:!1,early_gcmode:!1,frontend_regulation:null};if(function(global){function noop(){}function makeNoopLogger(){return{log:noop,info:noop,warn:noop,error:noop,debug:noop,group:noop,trace:noop,clear:noop,dir:noop,dirxml:noop,table:noop,assert:noop,count:noop,countReset:noop,time:noop,timeLog:noop,profile:noop,profileEnd:noop,timeStamp:noop,groupCollapsed:noop,groupEnd:noop}}void 0!==global.MapLogger&&global.MapLogger||(void 0===global.MAP_VERBOSE_LOG||!0!==global.MAP_VERBOSE_LOG?global.MapLogger=makeNoopLogger():global.MapLogger=global.console||makeNoopLogger())}(window),"undefined"!=typeof MAP_JSCOOKIE_SHIELD&&MAP_JSCOOKIE_SHIELD||(MAP_POSTFIX="",MAP_ACCEPTED_ALL_COOKIE_NAME="map_accepted_all_cookie_policy",MAP_ACCEPTED_SOMETHING_COOKIE_NAME="map_accepted_something_cookie_policy",MAP_CONSENT_STATUS="map_consent_status",MAP_MICROSOFT_CONSENT_STATUS="map_microsoft_consent_status",MAP_CLARITY_CONSENT_STATUS="map_clarity_consent_status",MAP_USER_UUID="map_user_uuid",MAP_LAST_CONSENT_MODIFY_DATE="map_last_c_m_date",MapLogger.debug(MAP_SYS.maplog+"MAP_POSTFIX="+MAP_POSTFIX)),void 0===MAP_Cookie){if(void 0===MAP_UA_NO_COOKIE_SET)var MAP_UA_NO_COOKIE_SET=["Cookiebot","cookiebot.com","CookieHubVerify","TermlyBot"];var MAP_Cookie={_isUserAgentNoCookieSet:function(){var userAgent=navigator?.userAgent;return MAP_UA_NO_COOKIE_SET.some(function(forbidden){return userAgent.includes(forbidden)})},set:function(name,value,days){if(this._isUserAgentNoCookieSet())return null;try{if(days){var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3);var expires="; expires="+date.toGMTString()}else expires="";document.cookie=name+"="+value+expires+"; path=/"}catch(e){return console.debug(e),null}},setGMTString:function(name,value,GMTString){if(this._isUserAgentNoCookieSet())return null;try{var expires="; expires="+GMTString;document.cookie=name+"="+value+expires+"; path=/"}catch(e){return console.debug(e),null}},read:function(name){try{for(var nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null}catch(e){return console.debug(e),null}},exists:function(name){return null!==this.read(name)}}}var MAP={set:function(args){try{if(this.initted)return void MapLogger.debug(MAP_SYS.maplog+"MAP already initted: exiting");var current_url=window.location.href;MAP_SYS.map_skip_regexp.some(function(rx){return rx.test(current_url)});if(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"calling MAP set function"),"function"!=typeof JSON.parse)return void console.error(MAP_SYS.maplog+"Error: My Agile Privacy requires JSON.parse but your browser lacks this support");"object"!=typeof args.settings?this.settings=JSON.parse(args.settings):this.settings=args.settings,this?.settings?.plugin_version&&(MAP_SYS.plugin_version=this?.settings?.plugin_version),this?.settings?.parse_config_version_number&&(MAP_SYS.parse_config_version_number=this?.settings?.parse_config_version_number),this?.settings?.map_notify_title&&(MAP_SYS.map_notify_title=this?.settings?.map_notify_title),this?.settings?.map_first_layer_branded&&(MAP_SYS.map_first_layer_branded=this?.settings?.map_first_layer_branded),"undefined"!=typeof map_full_config&&void 0!==map_full_config.frontend_regulation&&(MAP_SYS.frontend_regulation=map_full_config.frontend_regulation),"undefined"!=typeof map_full_config&&void 0!==map_full_config.enforce_youtube_privacy_v2&&(MAP_SYS.enforce_youtube_privacy_v2=map_full_config.enforce_youtube_privacy_v2),"undefined"!=typeof CookieShield&&CookieShield&&(MAP_SYS.cookie_shield_version=CookieShield.getVersion()),(this?.settings?.scan_mode&&"learning_mode"==this.settings.scan_mode||this?.settings?.verbose_remote_log&&this.settings.verbose_remote_log)&&(MAP_SYS.map_debug=!0),this?.settings?.cookie_reset_timestamp&&this.settings.cookie_reset_timestamp&&("undefined"!=typeof MAP_JSCOOKIE_SHIELD&&MAP_JSCOOKIE_SHIELD||(MAP_POSTFIX="_"+this.settings.cookie_reset_timestamp,MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"MAP_POSTFIX="+MAP_POSTFIX))),"undefined"!=typeof MAP_JSCOOKIE_SHIELD&&MAP_JSCOOKIE_SHIELD||(MAP_ACCEPTED_ALL_COOKIE_NAME+=MAP_POSTFIX,MAP_ACCEPTED_SOMETHING_COOKIE_NAME+=MAP_POSTFIX,MAP_USER_UUID+=MAP_POSTFIX,MAP_LAST_CONSENT_MODIFY_DATE+=MAP_POSTFIX),MAP_SYS?.map_debug&&this?.settings.cookie_reset_timestamp&&this.settings.cookie_reset_timestamp&&(MapLogger.debug(MAP_SYS.maplog+"using alt_accepted_all_cookie_name="+MAP_ACCEPTED_ALL_COOKIE_NAME),MapLogger.debug(MAP_SYS.maplog+"using alt_accepted_something_cookie_name="+MAP_ACCEPTED_SOMETHING_COOKIE_NAME),MapLogger.debug(MAP_SYS.maplog+"using alt_user_uuid_cookie_name="+MAP_USER_UUID),MapLogger.debug(MAP_SYS.maplog+"using alt_last_consent_modify_date_cookie_name="+MAP_LAST_CONSENT_MODIFY_DATE)),this.blocked_friendly_name_string=null,this.blocked_content_notification_shown=!1,this.bar_open=!1,this.settings=args.settings,this.bar_elm=document.querySelector(this.settings.notify_div_id),this.showagain_elm=document.querySelector("#"+this.settings.showagain_div_id),this.settingsModal=document.querySelector("#mapSettingsPopup"),this.blocked_content_notification=document.querySelector("#map-blocked-content-notification-area"),this.blocked_content_notification&&(this.map_blocked_elems_desc=this.blocked_content_notification.querySelector(".map_blocked_elems_desc")),this.map_notification_message=this.bar_elm.querySelector(".map_notification-message"),this.accept_button=this.bar_elm.querySelector(".map-accept-button"),this.reject_button=this.bar_elm.querySelectorAll(".map-reject-button"),this.customize_button=this.bar_elm.querySelector(".map-customize-button"),this.show_consent_elems=document.querySelectorAll(".showConsent, .showConsentAgain"),MAP_SYS.map_accept_all_button=this.accept_button,MAP_SYS.map_reject_all_button=this.reject_button[0],MAP_SYS?.map_debug&&(MapLogger.groupCollapsed(MAP_SYS.maplog+"settings:"),MapLogger.debug(this.settings),MapLogger.groupEnd()),this.retrieveLastConsentDate(),this.retrieveLastConsentUUID(),this.loadDependencies(),this.toggleBar(),this.createInlineNotify(),this.attachEvents(),this.attachAnimations(),this.initted=!0,this.optimizeMobile();var that=this;window.addEventListener("resize",function(){that.optimizeMobile()}),this.setupIabTCF(),this.updateSomeConsentGivenStatus(),this.usabilityEvents()}catch(error){console.error(error)}},normalizeCssValue:function(value){return(value=null==value?"":value+"").replace(/\s+/g," ").trim()},createCssTestNode:function(testClassName){var el=document.createElement("div");return el.className=testClassName,el.style.position="absolute",el.style.left="-99999px",el.style.top="-99999px",el.style.width="1px",el.style.height="1px",el.style.overflow="hidden",el.style.visibility="hidden",el},isCssSignatureActive:function(testClassName,testProperty,expectedValue){try{if(!document.body)return!1;if(!testClassName||!testProperty)return!1;var el=this.createCssTestNode(testClassName);document.body.appendChild(el);var computed=window.getComputedStyle?window.getComputedStyle(el,null):null,value="";return computed?value=computed.getPropertyValue(testProperty):el.currentStyle&&(value=el.currentStyle[testProperty]),document.body.removeChild(el),(value=this.normalizeCssValue(value))===(expectedValue=this.normalizeCssValue(expectedValue))}catch(error){return console.error(error),!1}},injectCssBySignature:function(options,callback){var that=this;try{var src=(options=options||{}).src||"",signatureClass=options.signatureClass||"",signatureProperty=options.signatureProperty||"",signatureValue=options.signatureValue||"";if(!src)return;if(this.isCssSignatureActive(signatureClass,signatureProperty,signatureValue))return MAP_SYS&&MAP_SYS.map_debug&&MapLogger.debug(MAP_SYS.maplog+"css signature already active, skip load src="+src),void(callback&&callback(!0,!1));MAP_SYS&&MAP_SYS.map_debug&&MapLogger.debug(MAP_SYS.maplog+"injectCssBySignature src="+src);var link=document.createElement("link");link.rel="stylesheet",link.type="text/css",link.href=src,link.onload=function(){var activeAfter=that.isCssSignatureActive(signatureClass,signatureProperty,signatureValue);MAP_SYS&&MAP_SYS.map_debug&&MapLogger.debug(MAP_SYS.maplog+"loaded css src="+src+" signatureActive="+activeAfter),MAP_SYS.dependencies.push(src),callback&&callback(!1,!0)},link.onerror=function(){MAP_SYS&&MAP_SYS.map_debug&&MapLogger.debug(MAP_SYS.maplog+"error loading css src="+src),callback&&callback(!1,!1)},(document.head||document.getElementsByTagName("head")[0]).appendChild(link)}catch(error){console.error(error)}},getCssSignatureClassFromUrl:function(url){try{if(!url)return"";var parts=(url+"").split("#")[0].split("?")[0].split("/"),fileName=parts.length?parts[parts.length-1]:"";return"map-css-signature-"+(fileName=(fileName=fileName.replace(/\.min\.css$/i,"").replace(/\.css$/i,"")).toLowerCase().replace(/[^a-z0-9\-]+/g,"-"))}catch(error){return console.error(error),""}},injectCode:function(src=null,callback=null){try{if(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function injectCode src="+src),src){const script=document.createElement("script");script.async=!0,script.src=src,script.onload=function(){MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"loaded script src="+src),callback&&callback()},document.body.append(script)}}catch(error){console.error(error)}},loadFrontendCss:function(){try{if(MAP_SYS&&MAP_SYS.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function loadFrontendCss"),"undefined"==typeof map_full_config||!map_full_config)return;if(!map_full_config.frontend_css||!map_full_config.frontend_css.length)return;for(var i=0;i<map_full_config.frontend_css.length;i++){var src=map_full_config.frontend_css[i],signatureClass=this.getCssSignatureClassFromUrl(src);signatureClass&&this.injectCssBySignature({src:src,signatureClass:signatureClass,signatureProperty:"display",signatureValue:"none"},function(isActiveBeforeLoad,isLoadedNow){MAP_SYS&&MAP_SYS.map_debug&&MapLogger.debug(MAP_SYS.maplog+"css result alreadyActive="+isActiveBeforeLoad+" loadedNow="+isLoadedNow)})}}catch(error){console.error(error)}},loadDependencies:function(){var that=this;setTimeout(function(){that.loadFrontendCss()},500);try{var something_to_do=!1;MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function loadDependencies"),"undefined"!=typeof MAP_JSCOOKIE_SHIELD&&MAP_JSCOOKIE_SHIELD||"undefined"==typeof map_full_config||void 0===map_full_config?.js_shield_url||!map_full_config?.js_shield_url||(that.injectCode(map_full_config?.js_shield_url,function(){}),something_to_do=!0,MAP_SYS.dependencies.push(map_full_config?.js_shield_url)),"undefined"!=typeof map_full_config&&void 0!==map_full_config?.load_iab_tcf&&map_full_config?.load_iab_tcf&&void 0!==map_full_config?.iab_tcf_script_url&&void 0===window?.initMyAgilePrivacyIabTCF&&(that.injectCode(map_full_config?.iab_tcf_script_url,function(){}),something_to_do=!0,MAP_SYS.dependencies.push(map_full_config?.iab_tcf_script_url)),something_to_do?MAP_SYS?.map_debug&&(MapLogger.groupCollapsed(MAP_SYS.maplog+" tried to load the following dependencies:"),MapLogger.log(MAP_SYS.dependencies)):MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+" no dependencies to load."),MapLogger.groupEnd()}catch(error){console.error(error)}},getClarityConsentStatus:function(key){try{return MAP_SYS?.current_cconsent[key]}catch(error){console.error(error)}},getMicrosoftConsentStatus:function(key){try{return MAP_SYS?.current_mconsent[key]}catch(error){console.error(error)}},getGoogleConsentStatus:function(key){try{return MAP_SYS?.current_gconsent[key]}catch(error){console.error(error)}},updateClarityConsent:function(key,value,updateStatusCookie=!1){try{if(MAP_SYS?.clarity_cmode){var currentCConsent={...MAP_SYS?.current_cconsent};currentCConsent[key]=value,MAP_SYS.current_cconsent=currentCConsent;var to_send_consent=Object.fromEntries(Object.entries(currentCConsent).map(([key,value])=>{var newKey=key.startsWith("clarity_")?key.slice(8):key;return[newKey=newKey.replace(/_storage/g,"_Storage"),value]}));return void 0!==window.clarity&&window.clarity("consentv2",{source:MAP_SYS.clarity_cmp_id,...to_send_consent}),updateStatusCookie&&this.saveClarityConsentStatusToCookie(MAP_SYS?.current_cconsent),this.updateLastConsentRecords(),!0}return!1}catch(error){console.error(error)}},updateMicrosoftConsent:function(key,value,updateStatusCookie=!1){try{if(MAP_SYS?.microsoft_cmode){var newConsent={};newConsent[key.startsWith("microsoft_")?key.slice(10):key]=value,void 0!==window.uetq&&window.uetq.push("consent","update",newConsent);var currentMConsent={...MAP_SYS?.current_mconsent};return currentMConsent[key]=value,MAP_SYS.current_mconsent=currentMConsent,updateStatusCookie&&this.saveMicrosoftConsentStatusToCookie(MAP_SYS?.current_mconsent),this.updateLastConsentRecords(),!0}return!1}catch(error){console.error(error)}},updateGoogleConsentbyKeyValue:function(key,value,updateStatusCookie=!1){try{if(MAP_SYS?.cmode_v2){var newConsent;if("native"===MAP_SYS?.cmode_v2_implementation_type)(newConsent={})[key]=value,gtag("consent","update",newConsent);if("gtm"===MAP_SYS?.cmode_v2_implementation_type)(newConsent={})[key]=value,gTagManagerConsentListeners.forEach(callback=>{callback(newConsent)});var currentGConsent={...MAP_SYS?.current_gconsent};return currentGConsent[key]=value,MAP_SYS.current_gconsent=currentGConsent,updateStatusCookie&&this.saveGoogleConsentStatusToCookie(MAP_SYS?.current_gconsent),this.updateLastConsentRecords(),!0}return!1}catch(error){console.error(error)}},updateGoogleConsentbyObj:function(newConsent,updateStatusCookie=!1){try{return!!MAP_SYS?.cmode_v2&&("native"===MAP_SYS?.cmode_v2_implementation_type&&gtag("consent","update",newConsent),"gtm"===MAP_SYS?.cmode_v2_implementation_type&&gTagManagerConsentListeners.forEach(callback=>{callback(newConsent)}),MAP_SYS.current_gconsent=newConsent,updateStatusCookie&&this.saveGoogleConsentStatusToCookie(MAP_SYS?.current_gconsent),this.updateLastConsentRecords(),!0)}catch(error){console.error(error)}},parseClarityConsentStatus:function(consentStatusValue){return this.parseGoogleConsentStatus(consentStatusValue)},parseMicrosoftConsentStatus:function(consentStatusValue){return this.parseGoogleConsentStatus(consentStatusValue)},parseGoogleConsentStatus:function(consentStatusValue){try{var keyValuePairs=consentStatusValue.split("|"),decodedObject={};return keyValuePairs.forEach(function(pair){var parts=pair.split(":"),key=parts[0],value="true"===parts[1]?"granted":"denied";decodedObject[key]=value}),decodedObject}catch(error){console.error(error)}},saveClarityConsentStatusToCookie:function(consentObject){try{var encodedString=Object.keys(consentObject).map(function(key){return key+":"+("granted"===consentObject[key])}).join("|");return MAP_Cookie.set(MAP_CLARITY_CONSENT_STATUS,encodedString,MAP_SYS.map_cookie_expire),!0}catch(error){console.error(error)}},saveMicrosoftConsentStatusToCookie:function(consentObject){try{var encodedString=Object.keys(consentObject).map(function(key){return key+":"+("granted"===consentObject[key])}).join("|");return MAP_Cookie.set(MAP_MICROSOFT_CONSENT_STATUS,encodedString,MAP_SYS.map_cookie_expire),!0}catch(error){console.error(error)}},saveGoogleConsentStatusToCookie:function(consentObject){try{var encodedString=Object.keys(consentObject).map(function(key){return key+":"+("granted"===consentObject[key])}).join("|");return MAP_Cookie.set(MAP_CONSENT_STATUS,encodedString,MAP_SYS.map_cookie_expire),!0}catch(error){console.error(error)}},exportGoogleConsentObjectFromCookie:function(){try{var cookieValue=MAP_Cookie.read(MAP_CONSENT_STATUS);return cookieValue?this.parseGoogleConsentStatus(cookieValue):null}catch(error){console.error(error)}},setFromGoogleTagManagerInitialConsent:function(gconsent){try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function setFromGoogleTagManagerInitialConsent"),gconsent&&(MAP_SYS.starting_gconsent={...gconsent},MAP_SYS.current_gconsent={...gconsent},this.saveGoogleConsentStatusToCookie(gconsent),this.userPreferenceInit(!0))}catch(error){console.error(error)}},googleTagManagerConsentListener:function(callback){try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function googleTagManagerConsentListener"),"undefined"!=typeof gTagManagerConsentListeners&&gTagManagerConsentListeners.push(callback)}catch(error){console.error(error)}},setupConsentModeV2:function(){try{if(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function setupConsentModeV2"),"undefined"==typeof map_full_config)return!1;if(MAP_SYS.cmode_v2=map_full_config?.enable_cmode_v2,MAP_SYS.cmode_v2_implementation_type=map_full_config?.cmode_v2_implementation_type,MAP_SYS.cmode_v2_forced_off_ga4_advanced=map_full_config?.cmode_v2_forced_off_ga4_advanced,MAP_SYS.cmode_v2_js_on_error=map_full_config?.cmode_v2_js_on_error,MAP_SYS.cmode_v2&&"gtm"==MAP_SYS.cmode_v2_implementation_type)if(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"setting default value for consent mode (gtm)"),cookieValue=MAP_Cookie.read(MAP_CONSENT_STATUS)){var this_gconsent=this.parseGoogleConsentStatus(cookieValue);MAP_SYS.current_gconsent={...this_gconsent}}if(MAP_SYS.cmode_v2&&"native"==MAP_SYS.cmode_v2_implementation_type){if(void 0!==map_full_config.early_gcmode&&map_full_config.early_gcmode)"undefined"!=typeof early_starting_gconsent&&early_starting_gconsent&&(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"setting default value for consent mode (native) via early consent"),MAP_SYS.starting_gconsent=early_starting_gconsent,MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"setting default consent (native)"),MAP_SYS.current_gconsent={...MAP_SYS.starting_gconsent},MAP_SYS.early_gcmode=!0);else{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"setting default value for consent mode (native)"),MAP_SYS.starting_gconsent=map_full_config?.cmode_v2_default_consent_obj,MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"setting default consent (native)"),MAP_SYS.current_gconsent={...MAP_SYS.starting_gconsent};try{gtag("consent","default",{...MAP_SYS.starting_gconsent})}catch(error){console.error(error)}}var cookieValue;if(cookieValue=MAP_Cookie.read(MAP_CONSENT_STATUS)){this_gconsent=this.parseGoogleConsentStatus(cookieValue);MAP_SYS.current_gconsent={...this_gconsent},MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"setting consent with value="+cookieValue),this.updateGoogleConsentbyObj(this_gconsent,!1)}else this.saveGoogleConsentStatusToCookie(MAP_SYS.current_gconsent)}return!0}catch(error){console.error(error)}},setupClarityConsentMode:function(){try{if(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function setupClarityConsentMode"),"undefined"==typeof map_full_config)return!1;if(MAP_SYS.clarity_cmode=map_full_config?.enable_clarity_cmode,MAP_SYS.clarity_cmode){MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"setting default value for consent mode (Clarity)"),MAP_SYS.starting_cconsent=map_full_config?.cmode_clarity_default_consent_obj;var cookieValue=MAP_Cookie.read(MAP_CLARITY_CONSENT_STATUS);if(cookieValue){var this_cconsent=this.parseClarityConsentStatus(cookieValue);MAP_SYS.current_cconsent={...this_cconsent};try{var current_cconsent_fixed=Object.fromEntries(Object.entries(this_cconsent).map(([key,value])=>{var newKey=key.startsWith("clarity_")?key.slice(8):key;return[newKey=newKey.replace(/_storage/g,"_Storage"),value]}));void 0!==window.clarity&&window.clarity("consentv2",{source:MAP_SYS.clarity_cmp_id,...current_cconsent_fixed})}catch(error){console.error(error)}}else{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"setting default consent (Clarity)"),MAP_SYS.current_cconsent={...MAP_SYS.starting_cconsent};try{current_cconsent_fixed=Object.fromEntries(Object.entries(MAP_SYS.starting_cconsent).map(([key,value])=>{var newKey=key.startsWith("clarity_")?key.slice(8):key;return[newKey=newKey.replace(/_storage/g,"_Storage"),value]}));void 0!==window.clarity&&window.clarity("consentv2",{source:MAP_SYS.clarity_cmp_id,...current_cconsent_fixed})}catch(error){console.error(error)}this.saveClarityConsentStatusToCookie(MAP_SYS.current_cconsent)}}return!0}catch(error){console.error(error)}},setupMicrosoftConsentMode:function(){try{if(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function setupMicrosoftConsentMode"),"undefined"==typeof map_full_config)return!1;if(MAP_SYS.microsoft_cmode=map_full_config?.enable_microsoft_cmode,MAP_SYS.microsoft_cmode){MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"setting default value for consent mode (Microsoft)"),MAP_SYS.starting_mconsent=map_full_config?.cmode_microsoft_default_consent_obj;var cookieValue=MAP_Cookie.read(MAP_MICROSOFT_CONSENT_STATUS);if(cookieValue){var this_mconsent=this.parseMicrosoftConsentStatus(cookieValue);MAP_SYS.current_mconsent={...this_mconsent};try{var current_mconsent_fixed=Object.fromEntries(Object.entries(this_mconsent).map(([key,value])=>[key.startsWith("microsoft_")?key.slice(10):key,value]));void 0!==window.uetq&&window.uetq.push("consent","default",{...current_mconsent_fixed})}catch(error){console.error(error)}}else{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"setting default consent (Microsoft)"),MAP_SYS.current_mconsent={...MAP_SYS.starting_mconsent};try{current_mconsent_fixed=Object.fromEntries(Object.entries(MAP_SYS.starting_mconsent).map(([key,value])=>[key.startsWith("microsoft_")?key.slice(10):key,value]));void 0!==window.uetq&&window.uetq.push("consent","default",{...current_mconsent_fixed})}catch(error){console.error(error)}this.saveMicrosoftConsentStatusToCookie(MAP_SYS.current_mconsent)}}return!0}catch(error){console.error(error)}},updateLastConsentRecords:function(){try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"updateLastConsentRecords");let date=new Date,dateString=date.toISOString();if(MAP_SYS.last_consent_modify_date=date,MAP_Cookie.set(MAP_LAST_CONSENT_MODIFY_DATE,dateString,MAP_SYS.map_cookie_expire),!MAP_Cookie.exists(MAP_USER_UUID)){let uuid=this.generateUUID();uuid&&(MAP_SYS.user_uuid=uuid,MAP_Cookie.set(MAP_USER_UUID,uuid,MAP_SYS.map_cookie_expire))}return!0}catch(error){console.error(error)}},retrieveLastConsentDate:function(){try{if(MAP_Cookie.exists(MAP_LAST_CONSENT_MODIFY_DATE)){let dateStringFromCookie=MAP_Cookie.read(MAP_LAST_CONSENT_MODIFY_DATE),dateFromCookie=new Date(dateStringFromCookie);return MAP_SYS.last_consent_modify_date=dateFromCookie,dateFromCookie}return null}catch(error){console.error(error)}},retrieveLastConsentUUID:function(){try{if(MAP_Cookie.exists(MAP_USER_UUID)){let value=MAP_Cookie.read(MAP_USER_UUID);return MAP_SYS.user_uuid=value,value}return null}catch(error){console.error(error)}},generateUUID:function(){try{return window.crypto&&window.crypto.getRandomValues?([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,c=>(c^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>c/4).toString(16)):null}catch(error){console.error(error)}},toggleBar:function(){var that=this;try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function toggleBar"),MAP_Cookie.exists(MAP_ACCEPTED_ALL_COOKIE_NAME)||MAP_Cookie.exists(MAP_ACCEPTED_SOMETHING_COOKIE_NAME)?that.hideBar():MAP_SYS.in_iab_context?(async()=>{for(;!MAP_SYS.map_document_load;)await new Promise(resolve=>setTimeout(resolve,10));(async()=>{for(;"function"==typeof window.MAPIABTCF_brief_html_initted&&!window.MAPIABTCF_brief_html_initted();)await new Promise(resolve=>setTimeout(resolve,10));that.displayBar(),setTimeout(function(){var scroll_to_top=document.querySelector(".map_notification-message.map-iab-context");scroll_to_top&&scroll_to_top.scrollIntoView({behavior:"smooth"})},400)})()})():that.displayBar(),this.showagain_elm.querySelectorAll("a.showConsent").forEach(function($this){$this.addEventListener("click",function(e){MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"triggered showConsent"),e.preventDefault(),e.stopImmediatePropagation();var that_animation=MAP.bar_elm.getAttribute("data-animation"),that_id_selector="#"+MAP.bar_elm.getAttribute("id"),animation_params={targets:that_id_selector,easing:"easeInOutQuad",duration:1e3};setTimeout(function(){MAP.showagain_elm.style.display="none",MAP.bar_elm.focus()},150),anime({targets:MAP.showagain_elm,easing:"easeInOutQuad",duration:150,opacity:0,complete:function(anim){MAP.showagain_elm.style.display="none",MAP.bar_elm.focus()}}),setTimeout(function(){try{switch(that_animation){case"slide":var y_value="0vh",x_value="0vw";MAP.bar_elm.classList.contains("map_floating_banner")&&(y_value="3vh",x_value="3vw");var $this=MAP.bar_elm;MAP.bar_elm.className.includes("mapPositionBottom")?($this.style.bottom="-100vh",animation_params.bottom=y_value):MAP.bar_elm.className.includes("mapPositionTop")?($this.style.top="-100vh",animation_params.top=y_value):MAP.bar_elm.className.includes("mapPositionCenterLeft")?($this.style.left="-100vw",animation_params.left=x_value):MAP.bar_elm.className.includes("mapPositionCenterCenter")?($this.style.top="-100%",animation_params.top="50%"):MAP.bar_elm.className.includes("mapPositionCenterRight")&&($this.style.right="-100vw",animation_params.right=x_value),MAP.bar_elm.style.display="block",anime(animation_params);break;case"fade":document.querySelector(that_id_selector).style.opacity="0",MAP.bar_elm.style.display="block",animation_params.opacity="1",animation_params.duration="500",anime(animation_params);break;case"zoom":document.querySelector(that_id_selector).style.transform="scale(0)",MAP.bar_elm.style.display="block",animation_params.scale="1",anime(animation_params);break;default:MAP.bar_elm.style.display="block"}that.bar_open=!0,that.bar_elm.focus(),that.optimizeMobile()}catch(error){console.error(error)}},100)})}),that.bar_elm.addEventListener("triggerShowAgainDisplay",function(e){MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"triggered triggerShowAgainDisplay"),e.preventDefault(),e.stopImmediatePropagation();var that_animation=MAP.bar_elm.getAttribute("data-animation"),that_id_selector="#"+MAP.bar_elm.getAttribute("id"),animation_params={targets:that_id_selector,easing:"easeInOutQuad",duration:1e3};setTimeout(function(){MAP.showagain_elm.style.display="none"},150),anime({targets:MAP.showagain_elm,easing:"easeInOutQuad",duration:150,opacity:0,complete:function(anim){MAP.showagain_elm.style.display="none"}}),setTimeout(function(){try{switch(that_animation){case"slide":var y_value="0vh",x_value="0vw";MAP.bar_elm.classList.contains("map_floating_banner")&&(y_value="3vh",x_value="3vw");var element=document.querySelector(that_id_selector);MAP.bar_elm.className.includes("mapPositionBottom")?(element.style.bottom="-100vh",animation_params.bottom=y_value):MAP.bar_elm.className.includes("mapPositionTop")?(element.style.top="-100vh",animation_params.top=y_value):MAP.bar_elm.className.includes("mapPositionCenterLeft")?(element.style.left="-100vw",animation_params.left=x_value):MAP.bar_elm.className.includes("mapPositionCenterCenter")?(element.style.top="-100%",animation_params.top="50%"):MAP.bar_elm.className.includes("mapPositionCenterRight")&&(element.style.right="-100vw",animation_params.right=x_value),MAP.bar_elm.style.display="block",anime(animation_params);break;case"fade":document.querySelector(that_id_selector).style.opacity="0",MAP.bar_elm.style.display="block",animation_params.opacity="1",animation_params.duration="500",anime(animation_params);break;case"zoom":document.querySelector(that_id_selector).style.transform="scale(0)",MAP.bar_elm.style.display="block",animation_params.scale="1",anime(animation_params);break;default:MAP.bar_elm.style.display="block"}that.bar_open=!0,that.bar_elm.focus(),that.optimizeMobile()}catch(error){console.error(error)}},100)}),document.body.addEventListener("click",function(e){for(var targetElement=e.target,matchFound=!1,levelsToCheck=2;levelsToCheck>0&&targetElement;){if(targetElement.matches(".showConsentAgain")){matchFound=!0;break}targetElement=targetElement.parentElement,levelsToCheck--}if(matchFound){MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"triggered showConsentAgain"),e.preventDefault(),e.stopImmediatePropagation();var event=new CustomEvent("triggerShowAgainDisplay");that.bar_elm.dispatchEvent(event)}})}catch(error){console.error(error)}},createInlineNotify:function(){try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function createInlineNotify");var that=this;if("undefined"!=typeof CookieShield&&CookieShield){var detectedKeys=CookieShield.getDetectedKeys();Object.keys(detectedKeys).forEach(function(key){var api_key=detectedKeys[key],$custom_ref=document.querySelector(".map_custom_notify.map_api_key_"+api_key);$custom_ref&&($custom_ref.style.display="block",$custom_ref.classList.add("mapShowItem"))})}document.querySelectorAll(".map_blocked_content").forEach(function($this){var api_key=$this.getAttribute("data-cookie-api-key");document.querySelectorAll(".map_custom_notify.map_api_key_"+api_key).forEach(function(customRef){customRef&&(customRef.style.display="block",customRef.classList.add("mapShowItem"))})}),document.querySelectorAll(".iframe_src_blocked.map_show_inline_notify").forEach(function($this){var height=$this.offsetHeight,width=$this.offsetWidth,api_key=$this.getAttribute("data-cookie-api-key"),the_friendly_name="",friendly_name=$this.getAttribute("data-friendly-name");friendly_name&&(the_friendly_name=friendly_name),$this.style.display="none";var html="<div class='map_inline_notify showConsentAgain' data-cookie-api-key='"+api_key+"'>"+that.settings.blocked_content_text+"<br>"+the_friendly_name+"</div>",tempDiv=document.createElement("div");tempDiv.innerHTML=html;var $injected=tempDiv.firstChild;$this.parentNode.insertBefore($injected,$this.nextSibling),height>0&&($injected.style.height=height+"px"),width>0&&($injected.style.width=width+"px"),that.settings.inline_notify_color&&($injected.style.color=that.settings.inline_notify_color),that.settings.inline_notify_background&&($injected.style.backgroundColor=that.settings.inline_notify_background)})}catch(error){console.error(error)}},setupIabTCF:function(){try{var $map_consent_extrawrapper=this.settingsModal.querySelector(".map-consent-extrawrapper");$map_consent_extrawrapper&&(MAP_SYS.in_iab_context=!0,MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function setupIabTCF"),this.bar_elm.querySelectorAll(".map-triggerGotoIABTCF").forEach(function($this){$this.addEventListener("click",function(e){MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"triggered map-triggerGotoIABTCF click"),e.preventDefault(),e.stopImmediatePropagation(),MAP.settingsModal.classList.add("map-show"),MAP.settingsModal.style.opacity=0,MAP.settingsModal.offsetWidth,MAP.settingsModal.style.transition="opacity 1s",MAP.settingsModal.style.opacity=1,MAP.settingsModal.classList.remove("map-blowup","map-out"),MAP.settingsModal.classList.add("map-blowup"),MAP.settingsModal.focus(),document.body.classList.add("map-modal-open"),document.querySelector(".map-settings-overlay").classList.add("map-show"),document.querySelector(".map-settings-mobile").offsetWidth||MAP.settingsModal.querySelector(".map-nav-link").click(),$map_consent_extrawrapper.querySelectorAll('.map-wrappertab-navigation li a[href="#map-privacy-iab-tcf-wrapper"]').forEach(function($_this){$_this.click()})})}),this.bar_elm.querySelectorAll(".map-triggerGotoIABTCFVendors").forEach(function($this){$this.addEventListener("click",function(e){MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"triggered map-triggerGotoIABTCFVendors click"),e.preventDefault(),e.stopImmediatePropagation(),MAP.settingsModal.classList.add("map-show"),MAP.settingsModal.style.opacity=0,MAP.settingsModal.offsetWidth,MAP.settingsModal.style.transition="opacity 1s",MAP.settingsModal.style.opacity=1,MAP.settingsModal.classList.remove("map-blowup","map-out"),MAP.settingsModal.classList.add("map-blowup"),document.body.classList.add("map-modal-open"),document.querySelector(".map-settings-overlay").classList.add("map-show");var mapSettingsMobile=document.querySelector(".map-settings-mobile");if(mapSettingsMobile&&0===mapSettingsMobile.offsetWidth&&0===mapSettingsMobile.offsetHeight){var firstNavLink=MAP.settingsModal.querySelector(".map-nav-link");firstNavLink&&firstNavLink.click()}$map_consent_extrawrapper.querySelectorAll('.map-wrappertab-navigation li a[href="#map-privacy-iab-tcf-wrapper"]').forEach(function($_this){$_this.click()}),setTimeout(function(){try{var $vendor_list_button=document.querySelector("#map-iab-tcf-vendor-list");$vendor_list_button&&($vendor_list_button.click(),setTimeout(function(){var $vendor_list_scrollto=document.querySelector("#map-iab-tcf-vendor-list-scroll-here");$vendor_list_scrollto&&$vendor_list_scrollto.scrollIntoView({behavior:"smooth"})},200))}catch(error){console.error(error)}},200)})}),$map_consent_extrawrapper.querySelectorAll(".map-wrappertab-navigation li a").forEach(function($this){$this.addEventListener("click",function(e){e.preventDefault();var tabHref=$this.getAttribute("href"),lastIndex=tabHref.lastIndexOf("#");"map-privacy-iab-tcf-wrapper"==(tabHref=-1!==lastIndex?tabHref.substring(lastIndex)?.replace("#",""):"map-privacy-iab-tcf-wrapper")?(async()=>{for(;!MAP_SYS.map_document_load;)await new Promise(resolve=>setTimeout(resolve,10));"function"==typeof window.MAPIABTCF_showCMPUI&&window.MAPIABTCF_showCMPUI()})():(async()=>{for(;!MAP_SYS.map_document_load;)await new Promise(resolve=>setTimeout(resolve,10));"function"==typeof window.MAPIABTCF_hideCMPUI&&window.MAPIABTCF_hideCMPUI()})(),$map_consent_extrawrapper.querySelectorAll(".map-wrappertab-navigation li a").forEach(function($_this){$_this.classList.remove("active-wrappertab-nav")}),$this.classList.add("active-wrappertab-nav"),$map_consent_extrawrapper.querySelectorAll(".map-wrappertab").forEach(function($_this){$_this.classList.remove("map-wrappertab-active")});var activeTab=$map_consent_extrawrapper.querySelector(".map-wrappertab."+tabHref);activeTab&&activeTab.classList.add("map-wrappertab-active")})}),(async()=>{for(;!MAP_SYS.map_document_load;)await new Promise(resolve=>setTimeout(resolve,10));if("function"==typeof window.initMyAgilePrivacyIabTCF){var this_lang_code=null;"undefined"!=typeof map_lang_code&&(this_lang_code=map_lang_code),void 0!==map_full_config?.map_lang_code&&(this_lang_code=map_full_config?.map_lang_code),window.initMyAgilePrivacyIabTCF(this_lang_code)}})())}catch(error){console.error(error)}},returnVendorsList:function(){try{var standard_vendors=[],other_iab_and_google_vendors=[];for(const[key,value]of Object.entries(map_full_config?.cookie_api_key_remote_id_map_active)){let item={name:key,iabId:null};standard_vendors.push(item)}return"function"==typeof window.MAPIABTCF_getVendorsList&&(other_iab_and_google_vendors=window.MAPIABTCF_getVendorsList()),[...standard_vendors,...other_iab_and_google_vendors]}catch(error){console.error(error)}},updateSomeConsentGivenStatus:function(){try{let acceptedAll_status=MAP_Cookie.read(MAP_ACCEPTED_ALL_COOKIE_NAME);const atLeastSomeCModeV2ConsentGranted=Object.values(MAP_SYS?.current_gconsent).some(value=>"granted"===value);if("1"==acceptedAll_status)MAP_SYS.some_positive_consent_given=!0;else if(atLeastSomeCModeV2ConsentGranted)MAP_SYS.some_positive_consent_given=!0;else{let counter=0;Object.entries(map_full_config.cookie_api_key_remote_id_map_active).forEach(([key,value])=>{"1"==MAP_Cookie.read(value)&&counter++}),"function"==typeof window.MAPIABTCF_getSomePositiveConsentStatus&&window.MAPIABTCF_getSomePositiveConsentStatus()&&counter++,MAP_SYS.some_positive_consent_given=0!=counter}}catch(error){console.error(error)}},attachEvents:function(){try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function attachEvents");var that=this;that.settingsModal.addEventListener("click",function(e){if(e.target.matches(".map-slider")){let mapForClass=[...e.target.classList].find(cls=>cls.startsWith("map-for-"));if(!mapForClass)return;let for_attribute=mapForClass.replace("map-for-","");if(!for_attribute)return;const final_target=document.getElementById(for_attribute);final_target&&(final_target.checked=!final_target.checked,final_target.dispatchEvent(new Event("click",{bubbles:!0})))}}),that.accept_button.addEventListener("click",function(e){MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"triggered map-accept-button click"),e.preventDefault(),e.stopImmediatePropagation();that.updateLastConsentRecords(),that.settingsModal.querySelectorAll(".map-consent-mode-preference-checkbox").forEach(function(elem){elem.checked=!0;var consent_key=elem.getAttribute("data-consent-key");elem.classList.contains("map-consent-clarity")&&that.updateClarityConsent(consent_key,"granted",!0),elem.classList.contains("map-consent-microsoft")&&that.updateMicrosoftConsent(consent_key,"granted",!0),elem.classList.contains("map-consent-google")&&that.updateGoogleConsentbyKeyValue(consent_key,"granted",!0)}),that.settingsModal.querySelectorAll(".map-user-preference-checkbox").forEach(function(elem){var cookieName="map_cookie_"+elem.getAttribute("data-cookie-baseindex")+MAP_POSTFIX;MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"setting 1 to cookieName="+cookieName),MAP_Cookie.set(cookieName,"1",MAP_SYS.map_cookie_expire),elem.checked=!0}),that.settingsModal.querySelectorAll(".map-user-iab-preference-checkbox").forEach(function(elem){elem.checked=!0}),(async()=>{for(;!MAP_SYS.map_document_load;)await new Promise(resolve=>setTimeout(resolve,10));"function"==typeof window.MAPIABTCF_acceptAllConsent&&(window.MAPIABTCF_doSetUserInteraction(),window.MAPIABTCF_acceptAllConsent(!0),that.updateSomeConsentGivenStatus())})(),MAP.accept_close()}),that.reject_button.forEach(function(button){button.addEventListener("click",function(e){MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"triggered map-reject-button click"),e.preventDefault(),e.stopImmediatePropagation();that.updateLastConsentRecords(),that.settingsModal.querySelectorAll(".map-consent-mode-preference-checkbox").forEach(function(elem){elem.checked=!1;var consent_key=elem.getAttribute("data-consent-key");elem.classList.contains("map-consent-clarity")&&that.updateClarityConsent(consent_key,"denied",!0),elem.classList.contains("map-consent-microsoft")&&that.updateMicrosoftConsent(consent_key,"denied",!0),elem.classList.contains("map-consent-google")&&that.updateGoogleConsentbyKeyValue(consent_key,"denied",!0)}),that.settingsModal.querySelectorAll(".map-user-preference-checkbox").forEach(function(elem){var cookieName="map_cookie_"+elem.getAttribute("data-cookie-baseindex")+MAP_POSTFIX;MAP_Cookie.set(cookieName,"-1",MAP_SYS.map_cookie_expire),elem.checked=!1}),that.settingsModal.querySelectorAll(".map-user-iab-preference-checkbox").forEach(function(elem){elem.checked=!1}),(async()=>{for(;!MAP_SYS.map_document_load;)await new Promise(resolve=>setTimeout(resolve,10));"function"==typeof window.MAPIABTCF_denyAllConsent&&(window.MAPIABTCF_doSetUserInteraction(),window.MAPIABTCF_denyAllConsent(!0),that.updateSomeConsentGivenStatus())})(),MAP.reject_close()})}),that.customize_button.addEventListener("click",function(e){MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"triggered map-customize-button click"),e.preventDefault(),e.stopImmediatePropagation(),MAP.settingsModal.classList.add("map-show"),MAP.settingsModal.style.opacity=0,MAP.settingsModal.offsetWidth,MAP.settingsModal.style.transition="opacity 1s",MAP.settingsModal.style.opacity=1,MAP.settingsModal.classList.remove("map-blowup","map-out"),MAP.settingsModal.classList.add("map-blowup"),document.body.classList.add("map-modal-open"),document.querySelector(".map-settings-overlay").classList.add("map-show");var mapSettingsMobile=document.querySelector(".map-settings-mobile");if(mapSettingsMobile&&0===mapSettingsMobile.offsetWidth&&0===mapSettingsMobile.offsetHeight){var firstNavLink=MAP.settingsModal.querySelector(".map-nav-link");firstNavLink&&firstNavLink.click()}var $map_consent_extrawrapper=that.settingsModal.querySelectorAll(".map-consent-extrawrapper");if($map_consent_extrawrapper&&$map_consent_extrawrapper?.length){var triggerElement=$map_consent_extrawrapper[0].querySelector('.map-wrappertab-navigation li a[href="#map-privacy-cookie-thirdypart-wrapper"]');triggerElement&&triggerElement.click()}}),document.querySelector("#mapModalClose").addEventListener("click",function(e){MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"triggered mapModalClose click"),e.preventDefault(),e.stopImmediatePropagation(),MAP.closeSettingsPopup(),MAP.hideBar()}),that.setupAccordion(),"undefined"!=typeof map_ajax&&void 0!==map_ajax.cookie_process_delayed_mode&&1==map_ajax.cookie_process_delayed_mode?(async()=>{for(;!MAP_SYS.map_document_load;)await new Promise(resolve=>setTimeout(resolve,10));that.userPreferenceInit(!1)})():that.userPreferenceInit(!1)}catch(error){console.error(error)}},usabilityEvents:function(){try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function usabilityEvents");document.querySelectorAll('input[type="checkbox"][id]').forEach(function(checkbox){var id=checkbox.id;id&&document.querySelectorAll(`div[data-label-for="${id}"]`).forEach(function(label){label.setAttribute("aria-checked",checkbox.checked?"true":"false")})}),this.settingsModal.addEventListener("change",function(e){if(e.target.matches('input[type="checkbox"][id]')){var id=e.target.id;if(!id)return;document.querySelectorAll(`div[data-label-for="${id}"]`).forEach(function(label){label.setAttribute("aria-checked",e.target.checked?"true":"false")})}});[this.accept_button,this.reject_button,this.customize_button,this.show_consent_elems,document.querySelectorAll(".map-triggerGotoIABTCF")].forEach(item=>{item&&("function"==typeof item.forEach?item.forEach(el=>{el.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.click())})}):item.addEventListener&&item.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.click())}))}),this.settingsModal.addEventListener("keydown",function(e){if((e.target.matches(".map_expandItem")||e.target.matches(".map-tab-navigation")||e.target.matches(".map-privacy-iab-button"))&&(" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.target.click())),e.target.matches('[role="checkbox"]')&&(" "===e.key||"Spacebar"===e.key||"Enter"===e.key)){e.preventDefault();let mapForClass=[...e.target.classList].find(cls=>cls.startsWith("map-for-"));if(!mapForClass)return;let for_attribute=mapForClass.replace("map-for-","");if(!for_attribute)return;const final_target=document.getElementById(for_attribute);final_target&&(final_target.checked=!final_target.checked,final_target.dispatchEvent(new Event("click",{bubbles:!0})))}})}catch(error){console.error(error)}},attachAnimations:function(){try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function attachAnimations");if("true"==this.bar_elm.querySelector("#map-accept-button").getAttribute("data-animate"))var acceptButton=document.querySelector("#map-accept-button"),animation=acceptButton.getAttribute("data-animation-effect"),delay=1e3*parseInt(acceptButton.getAttribute("data-animation-delay")),repeat=parseInt(acceptButton.getAttribute("data-animation-repeat")),all_animation_classes=["animate__animated",animation],iteration_counter=0,animInterval=setInterval(function(){iteration_counter==repeat?clearInterval(animInterval):(acceptButton.classList.add(...all_animation_classes),setTimeout(function(){acceptButton.classList.remove(...all_animation_classes),iteration_counter++},900))},delay)}catch(error){console.error(error)}},checkBlockedContent:function(){try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function checkBlockedContent");var that=this,$map_blocked_content=document.querySelectorAll(".map_blocked_content:not(._is_activated)");if($map_blocked_content&&$map_blocked_content?.length){var blocked_friendly_name=[];if($map_blocked_content.forEach(function($this){var this_friendly_name=$this.getAttribute("data-friendly_name");this_friendly_name&&blocked_friendly_name.push(this_friendly_name)}),"undefined"!=typeof CookieShield&&CookieShield&&void 0!==CookieShield.getDetectedFriendlyNames)CookieShield.getDetectedFriendlyNames().forEach(function(v){v&&(v?.desc?blocked_friendly_name.push(v.desc):blocked_friendly_name.push(v))});var blocked_friendly_name_unique=blocked_friendly_name.filter((v,i,a)=>a.indexOf(v)===i);if(that.blocked_friendly_name_string=blocked_friendly_name_unique.join(", "),blocked_friendly_name_unique.length&&(!that.bar_open||that.settings.show_ntf_bar_on_not_yet_consent_choice)&&that.blocked_content_notification&&that.blocked_content_notification){that.blocked_friendly_name_string?that.map_blocked_elems_desc.innerHTML=that.blocked_friendly_name_string:(that.map_blocked_elems_desc.style.opacity=0,that.map_blocked_elems_desc.style.display="block",anime({targets:that.map_blocked_elems_desc,easing:"easeInOutQuad",duration:150,opacity:1,complete:function(anim){}})),that.blocked_content_notification_shown=!0;var blocked_content_notify_auto_shutdown_time=3e3;that.settings.blocked_content_notify_auto_shutdown_time&&(blocked_content_notify_auto_shutdown_time=that.settings.blocked_content_notify_auto_shutdown_time),setTimeout(function(){try{that.blocked_content_notification.style.opacity=0,that.blocked_content_notification.style.display="block",anime({targets:that.blocked_content_notification,easing:"easeInOutQuad",duration:150,opacity:1,complete:function(anim){}}),that.blocked_content_notification.classList.contains("autoShutDown")&&setTimeout(function(){setTimeout(function(){that.blocked_content_notification.style.display="none"},150),anime({targets:that.blocked_content_notification,easing:"easeInOutQuad",duration:150,opacity:0,complete:function(anim){that.blocked_content_notification.style.display="none"}})},blocked_content_notify_auto_shutdown_time)}catch(error){console.error(error)}},1e3)}}else that.blocked_content_notification&&(setTimeout(function(){that.blocked_content_notification.style.display="none"},150),anime({targets:that.blocked_content_notification,easing:"easeInOutQuad",duration:150,opacity:0,complete:function(anim){that.blocked_content_notification.style.display="none"}}));this.administratorNotices()}catch(error){console.error(error)}},displayBar:function(){try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function displayBar");var that=this,that_animation=that.bar_elm.getAttribute("data-animation"),that_id_selector="#"+that.bar_elm.getAttribute("id"),animation_params={targets:that_id_selector,easing:"easeInOutQuad",duration:1e3},y_value="0vh",x_value="0vw";that.bar_elm.classList.contains("map_floating_banner")&&(y_value="3vh",x_value="3vw");var element=document.querySelector(that_id_selector);switch(that_animation){case"slide":element.className.includes("mapPositionBottom")?(element.style.bottom="-100vh",animation_params.bottom=y_value):element.className.includes("mapPositionTop")?(element.style.top="-100vh",animation_params.top=y_value):element.className.includes("mapPositionCenterLeft")?(element.style.left="-100vw",animation_params.left=x_value):element.className.includes("mapPositionCenterCenter")?(element.style.top="-100%",animation_params.top="50%"):element.className.includes("mapPositionCenterRight")&&(element.style.right="-100vw",animation_params.right=x_value),element.style.display="block",anime(animation_params);break;case"fade":element.style.opacity="0",element.style.display="block",animation_params.opacity="1",animation_params.duration="500",anime(animation_params);break;case"zoom":element.style.transform="scale(0)",element.style.display="block",animation_params.scale="1",anime(animation_params);break;default:element.style.display="block"}setTimeout(function(){that.showagain_elm.style.display="none"},150),anime({targets:that.showagain_elm,easing:"easeInOutQuad",duration:150,opacity:0,complete:function(anim){that.showagain_elm.style.display="none"}}),that.bar_open=!0,that.bar_elm.focus(),that.optimizeMobile()}catch(error){console.error(error)}},hideBar:function(){try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function hideBar");var that=this;Boolean(this.settings.showagain_tab)?(that.showagain_elm.style.opacity=0,that.showagain_elm.style.display="block",anime({targets:this.showagain_elm,easing:"easeInOutQuad",duration:150,opacity:1,complete:function(anim){}})):(setTimeout(function(){that.showagain_elm.style.display="none"},150),anime({targets:this.showagain_elm,easing:"easeInOutQuad",duration:150,opacity:0,complete:function(anim){that.showagain_elm.style.display="none"}}));var that_animation=this.bar_elm.getAttribute("data-animation"),that_id_selector="#"+this.bar_elm.getAttribute("id");setTimeout(function(){MAP.bar_elm.style.display="none"},150);var animation_params={targets:that_id_selector,easing:"easeInOutQuad",duration:700,complete:function(anim){MAP.bar_elm.style.display="none"}};switch(that_animation){case"slide":this.bar_elm.className.includes("mapPositionBottom")?animation_params.bottom="-100vh":this.bar_elm.className.includes("mapPositionTop")?animation_params.top="-100vh":this.bar_elm.className.includes("mapPositionCenterLeft")?animation_params.left="-100vw":this.bar_elm.className.includes("mapPositionCenterCenter")?animation_params.top="-100%":this.bar_elm.className.includes("mapPositionCenterRight")&&(animation_params.right="-100vw"),anime(animation_params);break;case"fade":animation_params.opacity="0",animation_params.duration="500",anime(animation_params);break;case"zoom":animation_params.scale="0",anime(animation_params);break;default:this.bar_elm.style.display="none"}this.bar_open=!1,(async()=>{for(;!MAP_SYS.map_document_load;)await new Promise(resolve=>setTimeout(resolve,10));"function"==typeof window.MAPIABTCF_hideCMPUI&&window.MAPIABTCF_hideCMPUI()})()}catch(error){console.error(error)}},optimizeMobile:function(){var that=this;setTimeout(function(){try{if(that.bar_open){MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"optimizing for mobile view");var viewport_width=window.innerWidth;if(viewport_width<=450){var coeff=250;1==MAP_SYS?.map_notify_title&&(coeff+=50),1==MAP_SYS?.map_first_layer_branded&&(coeff+=60);var internal_height=window.innerHeight-coeff;MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"map mobile optimizing: viewport_width="+viewport_width+" , internal_height="+internal_height),that.map_notification_message.classList.add("extraNarrow"),that.map_notification_message.style.maxHeight=internal_height+"px"}else that.map_notification_message.classList.remove("extraNarrow"),that.map_notification_message.style.maxHeight=""}that.setOverflowMaxHeight(),document.querySelectorAll(".map-modal-body img").forEach(function(img){img.style.width="unset!important",img.style.height="unset!important"})}catch(error){console.error(error)}},400)},accept_close:function(){try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function accept_close"),MAP_Cookie.set(MAP_ACCEPTED_ALL_COOKIE_NAME,"1",MAP_SYS.map_cookie_expire),this.updateSomeConsentGivenStatus();var that_animation=this.bar_elm.getAttribute("data-animation"),animation_params={targets:"#"+this.bar_elm.getAttribute("id"),easing:"easeInOutQuad",duration:700,complete:function(anim){MAP.bar_elm.style.display="none"}};switch(that_animation){case"slide":this.bar_elm.className.includes("mapPositionBottom")?animation_params.bottom="-100vh":this.bar_elm.className.includes("mapPositionTop")?animation_params.top="-100vh":this.bar_elm.className.includes("mapPositionCenterLeft")?animation_params.left="-100vw":this.bar_elm.className.includes("mapPositionCenterCenter")?animation_params.top="-100%":this.bar_elm.className.includes("mapPositionCenterRight")&&(animation_params.right="-100vw"),anime(animation_params);break;case"fade":animation_params.opacity="0",animation_params.duration="500",anime(animation_params);break;case"zoom":animation_params.scale="0",anime(animation_params);break;default:this.bar_elm.style.display="none"}return Boolean(this.settings.showagain_tab)&&(this.showagain_elm.style.opacity=0,this.showagain_elm.style.display="block",anime({targets:this.showagain_elm,easing:"easeInOutQuad",duration:150,opacity:1,complete:function(anim){}})),this.tryToUnblockScripts(!0,null),(async()=>{for(;!MAP_SYS.map_document_load;)await new Promise(resolve=>setTimeout(resolve,10));"function"==typeof window.MAPIABTCF_hideCMPUI&&window.MAPIABTCF_hideCMPUI()})(),!1}catch(error){console.error(error)}},reject_close:function(){var that=this;try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function reject_close"),MAP_Cookie.set(MAP_ACCEPTED_ALL_COOKIE_NAME,"-1",MAP_SYS.map_cookie_expire),MAP_Cookie.set(MAP_ACCEPTED_SOMETHING_COOKIE_NAME,"-1",MAP_SYS.map_cookie_expire),that.updateSomeConsentGivenStatus();var that_animation=that.bar_elm.getAttribute("data-animation"),animation_params={targets:"#"+that.bar_elm.getAttribute("id"),easing:"easeInOutQuad",duration:700,complete:function(anim){MAP.bar_elm.style.display="none"}};switch(that_animation){case"slide":that.bar_elm.className.includes("mapPositionBottom")?animation_params.bottom="-100vh":that.bar_elm.className.includes("mapPositionTop")?animation_params.top="-100vh":that.bar_elm.className.includes("mapPositionCenterLeft")?animation_params.left="-100vw":that.bar_elm.className.includes("mapPositionCenterRight")&&(animation_params.right="-100vw"),anime(animation_params);break;case"fade":animation_params.opacity="0",animation_params.duration="500",anime(animation_params);break;case"zoom":animation_params.scale="0",anime(animation_params);break;default:that.bar_elm.style.display="none"}return that.bar_open=!1,Boolean(that.settings.showagain_tab)&&(that.showagain_elm.style.opacity=0,that.showagain_elm.style.display="block",anime({targets:that.showagain_elm,easing:"easeInOutQuad",duration:150,opacity:1,complete:function(anim){}})),that.tryToUnblockScripts(!0,null),setTimeout(function(){that.checkBlockedContent()},200),(async()=>{for(;!MAP_SYS.map_document_load;)await new Promise(resolve=>setTimeout(resolve,10));"function"==typeof window.MAPIABTCF_hideCMPUI&&window.MAPIABTCF_hideCMPUI()})(),!1}catch(error){console.error(error)}},tryToUnblockScripts:function(from_user_interaction=!1,cookieNameReference=null){try{let need_reload=!1,do_calc_need_reload=!1;from_user_interaction&&(do_calc_need_reload=!0),MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+`tryToUnblockScripts from_user_interaction=${from_user_interaction}`);var that=this,once_functions_to_execute=[];that.settingsModal.querySelectorAll(".map_cookie_description_wrapper").forEach(function($this){var baseIndex=$this.getAttribute("data-cookie-baseindex"),cookieName="map_cookie_"+baseIndex+MAP_POSTFIX,api_key=$this.getAttribute("data-cookie-api-key"),cookieValue=MAP_Cookie.read(cookieName);$this.classList&&do_calc_need_reload&&$this.classList.contains("map_page_reload_on_user_consent")&&cookieName==cookieNameReference&&"1"==MAP_Cookie.read(cookieName)&&(need_reload=!0),MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"debug "+api_key+" "+cookieName+" "+cookieValue);var always_on=!1,activate_anyway=!1;$this.classList.contains("_always_on")&&(always_on=!0),"google_analytics"==api_key&&"undefined"!=typeof map_full_config&&void 0!==map_full_config.cookie_api_key_not_to_block&&map_full_config?.cookie_api_key_not_to_block?.includes("google_analytics")&&(activate_anyway=!0);var accepted_all=!1;if(MAP_Cookie.exists(MAP_ACCEPTED_ALL_COOKIE_NAME)&&"1"==MAP_Cookie.read(cookieName)&&(accepted_all=!0),"1"==cookieValue||always_on||activate_anyway||accepted_all){if(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"--\x3eactivating api_key="+api_key+" cookieName="+cookieName+" cookieValue="+cookieValue+" always_on="+always_on+" accepted_all="+accepted_all),activate_anyway?$this.classList.add("_is_activated_anyway"):$this.classList.add("_is_activated"),$this.classList.contains("_with_code")){var $the_script=document.querySelector('script.my_agile_privacy_activate._js_noscript_type_mode[data-cookie-baseindex="'+baseIndex+'"]'),$the_raw_script=document.querySelector('textarea.my_agile_privacy_activate._raw_type_mode[data-cookie-baseindex="'+baseIndex+'"]');if($the_script&&!$the_script.classList.contains("_is_activated")){$the_script.classList.add("_is_activated");var script=document.createElement("script");script.className="_is_activated",script.innerHTML=$the_script.innerHTML,MAP_SYS?.map_debug&&MapLogger.debug(script.innerHTML),document.head.appendChild(script)}if($the_raw_script&&!$the_raw_script.classList.contains("_is_activated")){$the_raw_script.classList.add("_is_activated");var the_raw_script=$the_raw_script.value;MAP_SYS?.map_debug&&MapLogger.debug(the_raw_script);var range=document.createRange();range.selectNode(document.getElementsByTagName("body")[0]);var documentFragment=range.createContextualFragment(the_raw_script);document.body.appendChild(documentFragment)}}if(api_key){document.querySelectorAll(".map_custom_notify.map_api_key_"+api_key).forEach(function($_this){if($_this){var on_unblock_remove_class=$_this.getAttribute("data-on-unblock-remove-class");if(on_unblock_remove_class)document.querySelectorAll('.my_agile_privacy_activate[data-cookie-api-key="'+api_key+'"]').forEach($thisent=>$thisent.classList.remove(on_unblock_remove_class));$_this.remove()}});var $map_src_script_blocked=document.querySelectorAll('script.my_agile_privacy_activate.autoscan_mode.map_src_script_blocked[data-cookie-api-key="'+api_key+'"]'),$map_inline_script_blocked=document.querySelectorAll('script.my_agile_privacy_activate.autoscan_mode.map_inline_script_blocked[data-cookie-api-key="'+api_key+'"]'),$iframe_src_blocked=document.querySelectorAll('iframe.my_agile_privacy_activate.autoscan_mode.iframe_src_blocked[data-cookie-api-key="'+api_key+'"]'),$css_href_blocked=document.querySelectorAll('link.my_agile_privacy_activate.autoscan_mode.css_href_blocked[data-cookie-api-key="'+api_key+'"]'),$img_src_blocked=document.querySelectorAll('img.my_agile_privacy_activate.autoscan_mode.img_src_blocked[data-cookie-api-key="'+api_key+'"]');$map_src_script_blocked&&$map_src_script_blocked?.length&&$map_src_script_blocked.forEach(function($_this){let old_script_type=$_this.getAttribute("type"),new_script_type="text/javascript";if(void 0!==old_script_type&&old_script_type&&"module"==old_script_type&&(new_script_type="module"),!$_this.classList.contains("_is_activated")){if($_this.classList.contains("mapWait")||$_this.classList.add("_is_activated"),$_this.classList.contains("custom_patch_apply"))$_this.className.split(" ").forEach(function(v){v&&""!=v&&v.startsWith("map_trigger_custom_patch_")&&"function"==typeof window[v]&&setTimeout(function(){window[v]()},4e3)});if($_this.classList.contains("once_custom_patch_apply"))$_this.className.split(" ").forEach(function(v){v&&""!=v&&v.startsWith("map_trigger_custom_patch_")&&"function"==typeof window[v]&&(once_functions_to_execute.includes(v)||once_functions_to_execute.push(v))});if($_this.classList.contains("mapWait"))setTimeout(function(){var script=document.createElementBackup("script");script.className="_is_activated",script.setAttribute("type",new_script_type),script=cloneNodeAttributeToAnother($_this,script);var blocked_src=$_this.getAttribute("unblocked_src");blocked_src&&(script.src=blocked_src),$_this.insertAdjacentElement("afterend",script),$_this.classList.add("_is_activated")},2e3);else{var script=document.createElementBackup("script");script.className="_is_activated",script.setAttribute("type",new_script_type),script=cloneNodeAttributeToAnother($_this,script);var blocked_src=$_this.getAttribute("unblocked_src");blocked_src&&(script.src=blocked_src),$_this.insertAdjacentElement("afterend",script)}}}),$map_inline_script_blocked&&$map_inline_script_blocked?.length&&$map_inline_script_blocked.forEach(function($_this){if(!$_this.classList.contains("_is_activated")){if($_this.classList.contains("mapWait")||$_this.classList.add("_is_activated"),$_this.classList.contains("custom_patch_apply"))$_this.className.split(" ").forEach(function(v){v&&""!=v&&v.startsWith("map_trigger_custom_patch_")&&"function"==typeof window[v]&&setTimeout(function(){window[v]()},2200)});if($_this.classList.contains("once_custom_patch_apply"))$_this.className.split(" ").forEach(function(v){v&&""!=v&&v.startsWith("map_trigger_custom_patch_")&&"function"==typeof window[v]&&(once_functions_to_execute.includes(v)||once_functions_to_execute.push(v))});if($_this.classList.contains("mapWait"))setTimeout(function(){var script=document.createElement("script");script.className="_is_activated",script.innerHTML=$_this.innerHTML,MAP_SYS?.map_debug&&MapLogger.debug(script.innerHTML),document.head.appendChild(script),$_this.classList.add("_is_activated")},2200);else{var script=document.createElement("script");script.className="_is_activated",script.innerHTML=$_this.innerHTML,MAP_SYS?.map_debug&&MapLogger.debug(script.innerHTML),document.head.appendChild(script)}}}),$iframe_src_blocked&&$iframe_src_blocked?.length&&$iframe_src_blocked.forEach(function($_this){if(!$_this.classList.contains("_is_activated")){$_this.classList.add("_is_activated"),$_this.setAttribute("src",$_this.getAttribute("unblocked_src")),$_this.style.display="block";var $ref=document.querySelectorAll('.map_inline_notify[data-cookie-api-key="'+api_key+'"]');$ref&&$ref?.length&&$ref.forEach(function($_ref){$_ref.remove()})}}),$css_href_blocked&&$css_href_blocked?.length&&$css_href_blocked.forEach(function($_this){$_this.classList.contains("_is_activated")||($_this.classList.add("_is_activated"),$_this.setAttribute("href",$_this.getAttribute("unblocked_href")))}),$img_src_blocked&&$img_src_blocked?.length&&$img_src_blocked.forEach(function($_this){$_this.classList.contains("_is_activated")||($_this.classList.add("_is_activated"),$_this.setAttribute("src",$_this.getAttribute("unblocked_src")))})}}else $this.classList.remove("_is_activated")}),need_reload&&window.location.reload(),once_functions_to_execute.forEach(function(v){setTimeout(function(){window[v]()},1e3)}),setTimeout(function(){that.checkBlockedContent()},500),setTimeout(function(){var event=new Event("MAP_PRIVACY_CHANGE");document.body.dispatchEvent(event)},100)}catch(error){console.error(error)}},userPreferenceInit:function(only_init_status=!1){try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"userPreferenceInit only_init_status="+only_init_status);var that=this;that.settingsModal.querySelectorAll(".map-user-preference-checkbox").forEach(function($this){var cookieName="map_cookie_"+$this.getAttribute("data-cookie-baseindex")+MAP_POSTFIX,cookieValue=MAP_Cookie.read(cookieName);null==cookieValue?$this.checked?(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"setting 1 to cookieName="+cookieName),MAP_Cookie.set(cookieName,"1",MAP_SYS.map_cookie_expire)):(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"setting -1 to cookieName"+cookieName),MAP_Cookie.set(cookieName,"-1",MAP_SYS.map_cookie_expire)):"1"==cookieValue?(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"setting checked for cookieName"+cookieName),$this.checked=!0):(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"setting unchecked for cookieName"+cookieName),$this.checked=!1)}),0==only_init_status&&that.settingsModal.querySelectorAll(".map-user-preference-checkbox").forEach(function($this){$this.addEventListener("click",function(e){MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"triggered map-user-preference-checkbox click"),e.stopImmediatePropagation(),that.updateLastConsentRecords();var cookieName="map_cookie_"+$this.getAttribute("data-cookie-baseindex")+MAP_POSTFIX,currentToggleElm=that.settingsModal.querySelectorAll('.map-user-preference-checkbox[data-cookie-baseindex="'+$this.getAttribute("data-cookie-baseindex")+'"]');$this.checked?(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"setting 1 to cookieName="+cookieName),MAP_Cookie.set(cookieName,"1",MAP_SYS.map_cookie_expire),currentToggleElm.forEach(elm=>elm.checked=!0)):(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"setting -1 to cookieName"+cookieName),MAP_Cookie.set(cookieName,"-1",MAP_SYS.map_cookie_expire),currentToggleElm.forEach(elm=>elm.checked=!1)),MAP_Cookie.set(MAP_ACCEPTED_SOMETHING_COOKIE_NAME,"1",MAP_SYS.map_cookie_expire),MAP_Cookie.set(MAP_ACCEPTED_ALL_COOKIE_NAME,"-1",MAP_SYS.map_cookie_expire),that.updateSomeConsentGivenStatus(),that.tryToUnblockScripts(!0,cookieName)})}),that.settingsModal.querySelectorAll(".map-consent-mode-preference-checkbox").forEach(function(elem){var consent_key=elem.getAttribute("data-consent-key"),consentStatus=null;let consentVendor="";elem.classList.contains("map-consent-clarity")&&(consentStatus=that.getClarityConsentStatus(consent_key),consentVendor="(Clarity)"),elem.classList.contains("map-consent-microsoft")&&(consentStatus=that.getMicrosoftConsentStatus(consent_key),consentVendor="(Microsoft)"),elem.classList.contains("map-consent-google")&&(consentStatus=that.getGoogleConsentStatus(consent_key),consentVendor="(Google)"),"granted"===consentStatus?(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+`setting checked for consent_key=${consent_key} ${consentVendor}`),elem.checked=!0):"denied"===consentStatus&&(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+`setting unchecked for consent_key=${consent_key} ${consentVendor}`),elem.checked=!1)}),0==only_init_status&&that.settingsModal.querySelectorAll(".map-consent-mode-preference-checkbox").forEach(function(elem){elem.addEventListener("click",function(e){MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"triggered map-consent-mode-preference-checkbox click"),e.stopImmediatePropagation();var consent_key=elem.getAttribute("data-consent-key"),currentToggleElm=that.settingsModal.querySelectorAll('.map-consent-mode-preference-checkbox[data-consent-key="'+consent_key+'"]');if(elem.checked){let consentVendor="";elem.classList.contains("map-consent-clarity")&&(consentVendor="(Clarity)",that.updateClarityConsent(consent_key,"granted",!0)),elem.classList.contains("map-consent-microsoft")&&(consentVendor="(Microsoft)",that.updateMicrosoftConsent(consent_key,"granted",!0)),elem.classList.contains("map-consent-google")&&(consentVendor="(Google)",that.updateGoogleConsentbyKeyValue(consent_key,"granted",!0)),MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+`setting granted to consent_key=${consent_key} ${consentVendor}`),currentToggleElm.forEach(elm=>elm.checked=!0)}else{let consentVendor="";elem.classList.contains("map-consent-clarity")&&(consentVendor="(Clarity)",that.updateClarityConsent(consent_key,"denied",!0)),elem.classList.contains("map-consent-microsoft")&&(consentVendor="(Microsoft)",that.updateMicrosoftConsent(consent_key,"denied",!0)),elem.classList.contains("map-consent-google")&&(consentVendor="(Google)",that.updateGoogleConsentbyKeyValue(consent_key,"denied",!0)),MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+`setting denied to consent_key=${consent_key} ${consentVendor}`),currentToggleElm.forEach(elm=>elm.checked=!1)}MAP_Cookie.set(MAP_ACCEPTED_SOMETHING_COOKIE_NAME,"1",MAP_SYS.map_cookie_expire),MAP_Cookie.set(MAP_ACCEPTED_ALL_COOKIE_NAME,"-1",MAP_SYS.map_cookie_expire),that.updateSomeConsentGivenStatus()})}),0==only_init_status&&(that.settingsModal.addEventListener("click",function(e){var $this=e.target;if($this.matches(".map-user-iab-preference-checkbox")){MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"triggered map-user-iab-preference-checkbox click"),e.stopImmediatePropagation(),that.updateLastConsentRecords();var iab_category=$this.getAttribute("data-iab-category"),iab_key=$this.getAttribute("data-iab-key");$this.checked?(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+`setting 1 to iab_category=${iab_category} , iab_key=${iab_key}`),(async()=>{for(;!MAP_SYS.map_document_load;)await new Promise(resolve=>setTimeout(resolve,10));if("function"==typeof window.MAPIABTCF_updateConsent){let updateHtml=!1;"googleVendors"===iab_category&&(updateHtml=!0),window.MAPIABTCF_doSetUserInteraction(),window.MAPIABTCF_updateConsent(iab_category,parseInt(iab_key),!0,!0,updateHtml),that.updateSomeConsentGivenStatus()}})()):(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+`setting 0 to iab_category=${iab_category} , iab_key=${iab_key}`),(async()=>{for(;!MAP_SYS.map_document_load;)await new Promise(resolve=>setTimeout(resolve,10));if("function"==typeof window.MAPIABTCF_updateConsent){let updateHtml=!1;"googleVendors"===iab_category&&(updateHtml=!0),window.MAPIABTCF_doSetUserInteraction(),window.MAPIABTCF_updateConsent(iab_category,parseInt(iab_key),!1,!0,updateHtml),that.updateSomeConsentGivenStatus()}})())}}),that.settingsModal.addEventListener("click",function(e){e.target.matches(".map-privacy-iab-tcf-accept-all-button")&&(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"triggered map-privacy-iab-tcf-accept-all-button click"),e.preventDefault(),e.stopImmediatePropagation(),that.updateLastConsentRecords(),that.settingsModal.querySelectorAll(".map-user-iab-preference-checkbox ").forEach(function($_this){$_this.checked=!0}),(async()=>{for(;!MAP_SYS.map_document_load;)await new Promise(resolve=>setTimeout(resolve,10));"function"==typeof window.MAPIABTCF_acceptAllConsent&&(window.MAPIABTCF_doSetUserInteraction(),window.MAPIABTCF_acceptAllConsent(!0),that.updateSomeConsentGivenStatus())})())}),that.settingsModal.addEventListener("click",function(e){e.target.matches(".map-privacy-iab-tcf-deny-all-button")&&(MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"triggered map-privacy-iab-tcf-deny-all-button"),e.preventDefault(),e.stopImmediatePropagation(),that.updateLastConsentRecords(),that.settingsModal.querySelectorAll(".map-user-iab-preference-checkbox").forEach(function($elem){$elem.checked=!1}),(async()=>{for(;!MAP_SYS.map_document_load;)await new Promise(resolve=>setTimeout(resolve,10));"function"==typeof window.MAPIABTCF_denyAllConsent&&(window.MAPIABTCF_doSetUserInteraction(),window.MAPIABTCF_denyAllConsent(!0),that.updateSomeConsentGivenStatus())})())})),0==only_init_status&&that.tryToUnblockScripts(!1,null)}catch(error){console.error(error)}},showNotificationBar:function(message=null,success=null){try{var body=document.querySelector("body"),bar=document.querySelector("#mapx_notification_bar"),prev_message="<span class='mapx_close_notification_bar'>Close</span>";bar?prev_message=bar.innerHTML+"<br>":((bar=document.createElement("div")).setAttribute("id","mapx_notification_bar"),body.append(bar),document.addEventListener("click",function(event){event.target.matches(".mapx_close_notification_bar")&&(event.preventDefault(),bar.parentNode.removeChild(bar))},!1));var final_message=prev_message+"<b>[MyAgilePrivacy admin-only notification]</b> "+message;1==success&&(final_message+='&nbsp;<span class="mapx_proxification_success_true">OK!</span>'),2==success&&(final_message+='&nbsp;<span class="mapx_proxification_success_false">ERROR!</span>'),bar.innerHTML=final_message}catch(error){console.error(error)}},administratorNotices:function(){try{if(void 0!==MAP.settings&&MAP.settings.internal_debug){if(MAP?.settings.scan_mode&&"learning_mode"==MAP.settings.scan_mode){const this_blocked_friendly_name=[];map_full_config?.cookie_api_key_remote_id_map_active&&"object"==typeof map_full_config.cookie_api_key_remote_id_map_active&&Object.entries(map_full_config.cookie_api_key_remote_id_map_active).forEach(([key,value])=>{const friendlyName=map_full_config?.cookie_api_key_friendly_name_map?.[key];friendlyName?.desc&&this_blocked_friendly_name.push(friendlyName?.desc)});const this_blocked_friendly_name_unique=this_blocked_friendly_name.filter((v,i,a)=>a.indexOf(v)===i);this_blocked_friendly_name_unique.length?this.showNotificationBar("The Cookie Shield has detected the following cookies so far: "+this_blocked_friendly_name_unique.join(", ")+".",null):this.showNotificationBar("The Cookie Shield has not detected any cookies.",null)}MAP?.settings.scan_mode&&"turned_off"==MAP.settings.scan_mode&&this.showNotificationBar("Cookie Shield is turned off. Enable it in order to block cookies.",null)}}catch(error){console.error(error)}},slideUp:function(target,duration=500,callback=null){try{target.style.transitionProperty="height, margin, padding",target.style.transitionDuration=duration+"ms",target.style.boxSizing="border-box",target.style.height=target.scrollHeight+"px",target.offsetHeight,target.style.overflow="hidden",target.style.height=0,target.style.paddingTop=0,target.style.paddingBottom=0,target.style.marginTop=0,target.style.marginBottom=0,window.setTimeout(()=>{try{target.style.display="none",target.style.removeProperty("height"),target.style.removeProperty("padding-top"),target.style.removeProperty("padding-bottom"),target.style.removeProperty("margin-top"),target.style.removeProperty("margin-bottom"),target.style.removeProperty("overflow"),target.style.removeProperty("transition-duration"),target.style.removeProperty("transition-property")}catch(error){console.error(error)}},duration)}catch(error){console.error(error)}},slideDown:function(target,duration=500,callback=null){try{target.style.removeProperty("display");let display=window.getComputedStyle(target).display;"none"===display&&(display="block"),target.style.display=display;let height=target.scrollHeight;target.style.overflow="hidden",target.style.height=0,target.style.paddingTop=0,target.style.paddingBottom=0,target.style.marginTop=0,target.style.marginBottom=0,target.offsetHeight,target.style.boxSizing="border-box",target.style.transitionProperty="height, margin, padding",target.style.transitionDuration=duration+"ms",target.style.height=height+"px",target.style.removeProperty("padding-top"),target.style.removeProperty("padding-bottom"),target.style.removeProperty("margin-top"),target.style.removeProperty("margin-bottom"),window.setTimeout(()=>{try{target.style.removeProperty("height"),target.style.removeProperty("overflow"),target.style.removeProperty("transition-duration"),target.style.removeProperty("transition-property")}catch(error){console.error(error)}},duration)}catch(error){console.error(error)}},setOverflowMaxHeight:function(){try{var $overflow_container=document.querySelector(".map-cookielist-overflow-container");if($overflow_container){let $map_tab_container=$overflow_container.parentNode,parentHeight=$map_tab_container.offsetHeight,cookie_list_height=0;Array.from($overflow_container?.children).forEach(child=>{var style=window.getComputedStyle(child),marginTop=parseInt(style.marginTop,10),marginBottom=parseInt(style.marginBottom,10);cookie_list_height+=child.offsetHeight+marginTop+marginBottom}),cookie_list_height+=150;let siblingsHeight=0;if(Array.from($map_tab_container?.children).forEach(child=>{if(child!==$overflow_container){var style=window.getComputedStyle(child),marginTop=parseInt(style.marginTop,10),marginBottom=parseInt(style.marginBottom,10);siblingsHeight+=child.offsetHeight+marginTop+marginBottom}}),parentHeight>cookie_list_height)$map_tab_container.style.height=siblingsHeight+cookie_list_height+"px";else{let maxHeight=parentHeight-siblingsHeight;$overflow_container.style.maxHeight=maxHeight+"px"}}}catch(error){console.error(error)}},setupAccordion:function(){var that=this;try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function setupAccordion"),that.setOverflowMaxHeight(),that.settingsModal.addEventListener("click",function(e){var $this=e.target;if($this.matches(".map_expandItem")){var $parent=$this.parentElement;MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"triggered map_expandItem click"),e.preventDefault(),e.stopImmediatePropagation(),MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+".map-tab-header click");var $content=$parent.nextElementSibling;$parent.classList.contains("map-tab-active")?($parent.classList.remove("map-tab-active"),that.slideUp($content,500)):($this.classList.contains("map-contextual-expansion")||(document.querySelectorAll(".map-tab-header").forEach(function($_this){$_this.classList.remove("map-tab-active")}),document.querySelectorAll(".map-tab-content").forEach(function($_this){$_this!==$content&&that.slideUp($_this,500)})),$parent.classList.add("map-tab-active"),that.slideDown($content,500))}})}catch(error){console.error(error)}},closeSettingsPopup:function(){try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"internal function closeSettingsPopup"),this.settingsModal.classList.remove("map-show"),this.settingsModal.classList.add("map-out"),document.body.classList.remove("map-modal-open"),document.querySelectorAll(".map-settings-overlay").forEach(function($_this){$_this.classList.remove("map-show")}),(async()=>{for(;!MAP_SYS.map_document_load;)await new Promise(resolve=>setTimeout(resolve,10));"function"==typeof window.MAPIABTCF_hideCMPUI&&window.MAPIABTCF_hideCMPUI()})()}catch(error){console.error(error)}},checkJsShield:function(){try{if("undefined"==typeof map_ajax||!map_ajax?.ajax_url)return void MapLogger.error(MAP_SYS.maplog+"Error: missing map_ajax variable running checkJsShield function");if("undefined"==typeof CookieShield||"undefined"==typeof cookie_api_key_remote_id_map_active||void 0===map_full_config?.cookie_api_key_remote_id_map_active){var data={action:"map_missing_cookie_shield",detected:0};MAP_SYS.map_missing_cookie_shield=1}else{data={action:"map_missing_cookie_shield",detected:1};MAP_SYS.map_missing_cookie_shield=0}fetch(map_ajax.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(data)}).then(response=>response.text()).then(responseText=>{MapLogger.debug(MAP_SYS.maplog,responseText)}).catch(error=>console.error("Error sending data running checkJsShield function:",error))}catch(error){console.error(error)}},checkConsentModeStatus:function(){try{if("undefined"==typeof map_ajax||!map_ajax?.ajax_url)return void console.error(MAP_SYS.maplog+"Error: missing map_ajax variable running checkConsentModeStatus function");const googleTagRegex=/^(G-|UA-|AW-)/;let is_consent_valid=!1,has_valid_google_tag=!1,error_motivation="",error_code=null;if(MAP_SYS?.cmode_v2)if("undefined"==typeof dataLayer||null===dataLayer)error_motivation="missing dataLayer",error_code=20;else{for(let i=0;i<dataLayer.length;i++){const item=dataLayer[i];if(item&&(Array.isArray(item)||"object"==typeof item)){const firstArg=item[0],secondArg=item[1];if("consent"===firstArg&&"default"===secondArg&&(is_consent_valid=!0),"config"===firstArg&&googleTagRegex.test(secondArg)&&(has_valid_google_tag=!0),!is_consent_valid&&("config"===firstArg&&googleTagRegex.test(secondArg)||"event"===firstArg)){error_motivation=`Consent is set after Google tag ${secondArg} `,error_code=30;break}}}is_consent_valid||null!==error_code||"gtm"==MAP_SYS?.cmode_v2_implementation_type||(error_motivation="No consent set before Google tags",error_code=40),has_valid_google_tag||"gtm"==MAP_SYS?.cmode_v2_implementation_type||(error_motivation="A valid Google Tag seems missing",error_code=50)}else error_motivation="Consent Mode V2 not enabled",error_code=10;const result={isValid:null===error_code,reason:error_motivation,code:error_code};if(result.isValid){let the_message="The Consent Mode V2 is set up correctly.";MapLogger.log(MAP_SYS.maplog+the_message)}else{let the_message="The sending of consent is not set up correctly - "+result.reason+".";MapLogger.log(MAP_SYS.maplog+the_message)}const data={action:"map_check_consent_mode_status",is_consent_valid:result.isValid?1:0,error_motivation:result.reason,error_code:result.code};(!0===MAP_SYS.cmode_v2_js_on_error&&result.isValid||!1===MAP_SYS.cmode_v2_js_on_error&&!result.isValid)&&fetch(map_ajax.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(data)}).then(response=>response.text()).then(responseText=>{MapLogger.debug(MAP_SYS.maplog,responseText)}).catch(error=>console.error("Error sending data running checkConsentModeStatus function:",error))}catch(error){console.error(error)}},sendDetectedKeys:function(key){try{if("undefined"==typeof map_ajax||!map_ajax?.ajax_url)return void console.error(MAP_SYS.maplog+"Error: missing map_ajax variable running sendDetectedKeys function");if("undefined"!=typeof CookieShield&&CookieShield){var detectableKeys=CookieShield.getDetectableKeys(),detectedKeys=CookieShield.getDetectedKeys();if(MAP_SYS.map_detectableKeys=detectableKeys,MAP_SYS.map_detectedKeys=detectedKeys,map_ajax){var detectableKeys_to_send=null;detectableKeys&&detectableKeys.length>0&&(detectableKeys_to_send=detectableKeys.join(","));var detectedKeys_to_send=null;if(detectedKeys&&detectedKeys.length>0&&(detectedKeys_to_send=detectedKeys.join(",")),key)var data={action:"map_remote_save_detected_keys",key:key,detectableKeys:detectableKeys_to_send,detectedKeys:detectedKeys_to_send};else data={action:"map_save_detected_keys",detectableKeys:detectableKeys_to_send,detectedKeys:detectedKeys_to_send};fetch(map_ajax.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(data)}).then(response=>response.text()).then(responseText=>{MapLogger.groupCollapsed(MAP_SYS.maplog+"sendDetectedKeys detectableKeys="+detectableKeys_to_send+" , detectedKeys="+detectedKeys_to_send+" with response :"),MapLogger.debug(MAP_SYS.maplog,responseText),MapLogger.groupEnd()})}}}catch(error){console.error(error)}},debugCookieScripts:function(){try{var list=[];return document.querySelectorAll("script.my_agile_privacy_activate._js_noscript_type_mode, textarea.my_agile_privacy_activate._raw_type_mode").forEach(function($this){var cookie_name=$this.getAttribute("data-cookie-name"),cookie_api_key=$this.getAttribute("data-cookie-api-key"),code=null,mode=null;$this.classList.contains("_js_noscript_type_mode")&&(mode="js_noscript",code=$this.innerHTML),$this.classList.contains("_raw_type_mode")&&(mode="raw",code=$this.firstChild.nodeValue);var object={cookie_name:cookie_name,cookie_api_key:cookie_api_key,mode:mode,code:code};list.push(object)}),list}catch(error){console.error(error)}},getAvailableCookieList:function(){try{var list=[];return document.querySelectorAll(".map_cookie_description_wrapper").forEach(function($this){var cookie_name=$this.getAttribute("data-cookie-name"),cookie_api_key=$this.getAttribute("data-cookie-api-key");cookie_api_key?list.push(cookie_api_key):list.push(cookie_name)}),list}catch(error){console.error(error)}},getActivatedCookiesList:function(){try{var list=[];return document.querySelectorAll(".map_cookie_description_wrapper._is_activated").forEach(function($this){var cookie_name=$this.getAttribute("data-cookie-name"),cookie_api_key=$this.getAttribute("data-cookie-api-key");cookie_api_key?list.push(cookie_api_key):list.push(cookie_name)}),list}catch(error){console.error(error)}},getDisactivatedCookiesList:function(){try{var list=[];return document.querySelectorAll(".map_cookie_description_wrapper:not(._is_activated)").forEach(function($this){var cookie_name=$this.getAttribute("data-cookie-name"),cookie_api_key=$this.getAttribute("data-cookie-api-key");cookie_api_key?list.push(cookie_api_key):list.push(cookie_name)}),list}catch(error){console.error(error)}}};function map_on_document_load_event(){try{if(MAP_SYS.map_document_load=!0,!MAP_SYS.map_initted&&"undefined"!=typeof map_cookiebar_settings)try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"initting"),MAP.set({settings:map_cookiebar_settings}),MAP_SYS.map_initted=!0}catch(error){console.error(error)}if(map_ajax&&MAP.settings&&(MAP.checkJsShield(),setTimeout(function(){MAP.checkConsentModeStatus()},800)),"undefined"!=typeof CookieShield&&CookieShield&&MAP&&(map_ajax&&MAP.settings&&(MAP.settings.scan_mode&&"learning_mode"==MAP.settings.scan_mode||1==map_ajax.force_js_learning_mode)&&MAP.sendDetectedKeys(null),"undefined"!=typeof URLSearchParams&&URLSearchParams)){var queryString=window.location.search;if(queryString){var auto_activate_cookies_with_key=new URLSearchParams(queryString).get("auto_activate_cookies_with_key");auto_activate_cookies_with_key&&MAP.sendDetectedKeys(auto_activate_cookies_with_key)}}}catch(error){console.error(error)}}function cloneNodeAttributeToAnother($source,dest){for(var att,exclusion_list=["type","src","unblocked_src","class","data-cookie-api-key","data-friendly_name"],i=0,atts=$source.attributes,n=atts.length;i<n;i++)void 0===(att=atts[i]).nodeName||exclusion_list.includes(att.nodeName)||dest.setAttribute(att.nodeName,att.nodeValue);return dest}function internalRecreateNode(el,withChildren){try{if(withChildren)el.parentNode.replaceChild(el.cloneNode(!0),el);else{for(var newEl=el.cloneNode(!1);el.hasChildNodes();)newEl.appendChild(el.firstChild);el.parentNode.replaceChild(newEl,el)}}catch(e){console.debug(e)}}function map_trigger_custom_patch_1(){MapLogger.debug(MAP_SYS.maplog+"map_trigger_custom_patch_1");try{internalRecreateNode(document.querySelector("form.wpcf7-form"),!0)}catch(e){console.debug(e)}const c=new CustomEvent("DOMContentLoaded",{});document.dispatchEvent(c);try{wpcf7.submit=null}catch(e){console.debug(e)}}function map_trigger_custom_patch_2(){MapLogger.debug(MAP_SYS.maplog+"map_trigger_custom_patch_2"),document.querySelectorAll(".av_gmaps_confirm_link.av_text_confirm_link.av_text_confirm_link_visible").forEach(function(element){element.click()})}function map_trigger_custom_patch_3(){try{octorate.octobook.Widget.show()}catch(e){setTimeout(map_trigger_custom_patch_3,100),console.debug(e)}}function map_trigger_custom_patch_4(){try{setInterval(function(){document.querySelectorAll(".blockUI.blockOverlay").forEach(function(el){el.remove()})},500)}catch(e){setTimeout(map_trigger_custom_patch_4,100),console.debug(e)}}document.addEventListener("DOMContentLoaded",function(){try{"undefined"!=typeof map_cookiebar_settings&&(MAP_SYS.map_initted=!0,MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"initting"),MAP.set({settings:map_cookiebar_settings})),setTimeout(function(){if(!MAP_SYS.map_initted&&"undefined"!=typeof map_cookiebar_settings)try{MAP_SYS?.map_debug&&MapLogger.debug(MAP_SYS.maplog+"initting"),MAP.set({settings:map_cookiebar_settings}),MAP_SYS.map_initted=!0}catch(error){console.error(error)}},3e3),setTimeout(function(){MAP_SYS.map_document_load=!0},5e3)}catch(error){console.error(error)}}),window.addEventListener("load",function(){"function"==typeof window.map_on_document_load_event&&window.map_on_document_load_event()}),void 0!==MAP&&void 0!==MAP.setupConsentModeV2&&MAP.setupConsentModeV2(),void 0!==MAP&&void 0!==MAP.setupMicrosoftConsentMode&&MAP.setupMicrosoftConsentMode(),void 0!==MAP&&void 0!==MAP.setupClarityConsentMode&&MAP.setupClarityConsentMode();
//# sourceMappingURL=my-agile-privacy-frontend.min.js.map